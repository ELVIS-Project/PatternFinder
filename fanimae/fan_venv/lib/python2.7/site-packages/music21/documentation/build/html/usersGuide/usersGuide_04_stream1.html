<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User’s Guide, Chapter 4: Lists, Streams (I) and Output &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="User’s Guide" href="index.html" />
    <link rel="next" title="User’s Guide, Chapter 5: Lists of Lists, Functions, and Recursion" href="usersGuide_05_listsOfLists.html" />
    <link rel="prev" title="User’s Guide, Chapter 3: Pitches, Durations, and Notes again" href="usersGuide_03_pitches.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usersGuide_05_listsOfLists.html" title="User’s Guide, Chapter 5: Lists of Lists, Functions, and Recursion"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usersGuide_03_pitches.html" title="User’s Guide, Chapter 3: Pitches, Durations, and Notes again"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="usersGuide_03_pitches.html"
                        title="previous chapter">User&#8217;s Guide, Chapter 3: Pitches, Durations, and Notes again</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usersGuide_05_listsOfLists.html"
                        title="next chapter">User&#8217;s Guide, Chapter 5: Lists of Lists, Functions, and Recursion</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">User&#8217;s Guide, Chapter 4: Lists, Streams (I) and Output</a><ul>
<li><a class="reference internal" href="#working-with-multiple-objects-via-lists">Working with multiple objects via Lists</a></li>
<li><a class="reference internal" href="#introduction-to-streams">Introduction to Streams</a></li>
<li><a class="reference internal" href="#creating-simple-streams">Creating simple Streams</a></li>
<li><a class="reference internal" href="#accessing-streams">Accessing Streams</a><ul>
<li><a class="reference internal" href="#separating-out-elements-by-class-with-getelementsbyclass">Separating out elements by class with <code class="docutils literal"><span class="pre">.getElementsByClass()</span></code></a></li>
<li><a class="reference internal" href="#separating-out-elements-by-offset-with-getelementsbyoffset">Separating out elements by offset with <code class="docutils literal"><span class="pre">.getElementsByOffset()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-stream-features">More Stream Features</a></li>
<li><a class="reference internal" href="#streams-within-streams">Streams within Streams</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="usersGuide_99_Table_of_Contents.html">User&#8217;s Guide: Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_01_installing.html">User&#8217;s Guide, Chapter 1: Installing and Getting Started with <code class="docutils literal"><span class="pre">music21</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_02_notes.html">User&#8217;s Guide, Chapter 2: Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_03_pitches.html">User&#8217;s Guide, Chapter 3: Pitches, Durations, and Notes again</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">User&#8217;s Guide, Chapter 4: Lists, Streams (I) and Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_05_listsOfLists.html">User&#8217;s Guide, Chapter 5: Lists of Lists, Functions, and Recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_06_stream2.html">User&#8217;s Guide, Chapter 6: Streams (II): Hierarchies, Recursion, and Flattening</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_07_chords.html">User&#8217;s Guide, Chapter 7: Chords</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_08_installingMusicXML.html">User&#8217;s Guide, Chapter 8: Installing MusicXML Readers and File Formats (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_09_chordify.html">User&#8217;s Guide, Chapter 9: Chordify</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_10_examples1.html">User&#8217;s Guide, Chapter 10: Examples 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_11_corpusSearching.html">User&#8217;s Guide, Chapter 11: Corpus Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_12_music21object.html">User&#8217;s Guide, Chapter 12: Getting Back to Basics: The Music21Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_14_timeSignatures.html">User&#8217;s Guide: Chapter 14: Time Signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_17_derivations.html">User&#8217;s Guide: Chapter 17: Derivations</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_21_sorting.html">User&#8217;s Guide, Chapter 21: Ordering and Sorting of Stream Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_22_graphing.html">User’s Guide, Chapter 22: Graphing</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_23_advancedCorpus.html">User&#8217;s Guide, Chapter 23: Advanced Corpus and Metadata Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_25_postTonalTools1.html">User&#8217;s Guide, Chapter 25: Post-Tonal Tools (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_26_clientWeakref.html">User&#8217;s Guide, Chapter 26: Clients and Weak References.</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_54_extendingConverter.html">User&#8217;s Guide: Chapter 54: Extending Converter with New Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_55_advancedMeter.html">User&#8217;s Guide: Chapter 55: Advanced Meter Topics</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../moduleReference/index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usersGuide/usersGuide_04_stream1.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="usersguide-04-stream1"></span><div class="section" id="user-s-guide-chapter-4-lists-streams-i-and-output">
<h1>User&#8217;s Guide, Chapter 4: Lists, Streams (I) and Output<a class="headerlink" href="#user-s-guide-chapter-4-lists-streams-i-and-output" title="Permalink to this headline">¶</a></h1>
<p>In the last two chapters, I introduced the concept of
<a class="reference internal" href="../moduleReference/moduleNote.html#music21.note.Note" title="music21.note.Note"><code class="xref py py-class docutils literal"><span class="pre">Note</span></code></a> objects which are made up of
<a class="reference internal" href="../moduleReference/modulePitch.html#music21.pitch.Pitch" title="music21.pitch.Pitch"><code class="xref py py-class docutils literal"><span class="pre">Pitch</span></code></a> and
<a class="reference internal" href="../moduleReference/moduleDuration.html#music21.duration.Duration" title="music21.duration.Duration"><code class="xref py py-class docutils literal"><span class="pre">Duration</span></code></a> objects, and we even displayed a
Note on a staff and played it via MIDI. But unless you&#8217;re challenging
Cage and Webern for the status of least musical material, you will
probably want to analyze, manipulate, or create more than one Note.</p>
<p>Python has ways of working with multiple objects and <code class="docutils literal"><span class="pre">music21</span></code> extends
those ways to be more musical. Let&#8217;s look at how Python does it first
and then see how <code class="docutils literal"><span class="pre">music21</span></code> extends these ways. (If you&#8217;ve been
programming for a bit, or especially if you have Python experience, skip
to the section on Streams below after creating the objects <code class="docutils literal"><span class="pre">note1</span></code>,
<code class="docutils literal"><span class="pre">note2</span></code> and <code class="docutils literal"><span class="pre">note3</span></code> described below).</p>
<p>Say you have two notes, a C and an F# in the middle of the treble staff.
(If the concept of working with a tritone bothers you, go ahead and make
the second note a G; we won&#8217;t mind; we&#8217;ll just call you Pope Gregory
from now on). Lets create those notes:</p>
<div class="section" id="working-with-multiple-objects-via-lists">
<h2>Working with multiple objects via Lists<a class="headerlink" href="#working-with-multiple-objects-via-lists" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">note1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&quot;C4&quot;</span><span class="p">)</span>
<span class="n">note2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&quot;F#4&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s make the first note a half note by modifying its duration (by
default all <code class="docutils literal"><span class="pre">Note</span></code> objects are quarter notes):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;half&#39;</span>
<span class="n">note1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">2.0</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note2</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">1.0</span>
</pre></div>
</div>
<p>To print the <code class="docutils literal"><span class="pre">step</span></code> (that is, the name without any octave or
accidental information) of each of these notes, you could do something
like this:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">note1</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="n">C</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">note2</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="n">F</span>
</pre></div>
</div>
<p>But suppose you had thirty notes? Then it&#8217;d be a pain to type
&#8220;<code class="docutils literal"><span class="pre">print</span> <span class="pre">noteX.step</span></code>&#8221; thirty times. Fortunately, there&#8217;s a solution:
we can put each of the note objects into a <code class="docutils literal"><span class="pre">List</span></code> which is a built in
Python object that stores multiple other objects (like Notes or Chords,
or even things like numbers). To create a list in Python, put square
brackets (<code class="docutils literal"><span class="pre">[]</span></code>) around the things that you want to put in the list,
separated by commas. Let&#8217;s create a list called <code class="docutils literal"><span class="pre">noteList</span></code> that
contains note1 and note2:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span> <span class="o">=</span> <span class="p">[</span><span class="n">note1</span><span class="p">,</span> <span class="n">note2</span><span class="p">]</span>
</pre></div>
</div>
<p>We can check that <code class="docutils literal"><span class="pre">noteList</span></code> contains our Notes by printing it:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">noteList</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> [&lt;music21.note.Note C&gt;, &lt;music21.note.Note F#&gt;]
</pre></div>
</div>
<p>The list is represented by the square brackets around the end with the
comma in between them, just like how they were created originally. The
act of creation is mirrored in the representation. That&#8217;s nice. Medieval
philosophers would approve.</p>
<p>Now we can write a two-line program that will print the step of each
note in noteList. Most modern languages have a way of doing some action
for each member (&#8220;element&#8221;) in a list (also called an &#8220;array&#8221; or
sometimes &#8220;row&#8221;). In Python this is the &#8220;for&#8221; command. When you type
these lines, make sure to type the spaces at the start of the second
line. (When you&#8217;re done typing <code class="docutils literal"><span class="pre">print(thisNote.step)</span></code>, you&#8217;ll probably
have to hit enter twice to see the results.)</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">thisNote</span> <span class="ow">in</span> <span class="n">noteList</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">thisNote</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="n">C</span>
 <span class="n">F</span>
</pre></div>
</div>
<p>What&#8217;s happening here? What <code class="docutils literal"><span class="pre">for</span> <span class="pre">thisNote</span> <span class="pre">in</span> <span class="pre">noteList:</span></code> says is that
Python should take each note in noteList in order and temporarily call
that note &#8220;<code class="docutils literal"><span class="pre">thisNote</span></code>&#8221; (you could have it called anything you want;
<code class="docutils literal"><span class="pre">myNote</span></code>, <code class="docutils literal"><span class="pre">n</span></code>, <code class="docutils literal"><span class="pre">currentNote</span></code> are all good names, but <code class="docutils literal"><span class="pre">note</span></code> is
not because <code class="docutils literal"><span class="pre">note</span></code> is the name of a module). Then the &#8221;:&#8221; at the end
of the line indicates that everything that happens for a bit will apply
to every <code class="docutils literal"><span class="pre">Note</span></code> in noteList one at a time. How does Python know when
&#8220;a bit&#8221; is over? Simple: every line that is a part of the loop needs to
be indented by putting in some spaces. (I usually use four spaces or hit
tab. Some people use two spaces. Just be consistent.)</p>
<p>Loops don&#8217;t save much time here, but imagine if noteList had dozens or
hundreds of Notes in it? Then the ability to do something to each object
becomes more and more important.</p>
<p>Let&#8217;s add another note to noteList. First let&#8217;s create another note, a
low B-flat:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&quot;B-2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we&#8217;ll append that note to the end of noteList:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note3</span><span class="p">)</span>
</pre></div>
</div>
<p>Lists can be manipulated or changed. They are called &#8220;mutable&#8221; objects
(we&#8217;ll learn about immutable objects later). Streams, as we will see,
can be manipulated the same way through <code class="docutils literal"><span class="pre">.append()</span></code>.</p>
<p>We can see that the length of noteList is now 3 using the <code class="docutils literal"><span class="pre">len()</span></code>
function:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="nb">len</span><span class="p">(</span><span class="n">noteList</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">3</span>
</pre></div>
</div>
<p>And if we write our looping function again, we will get a third note:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">thisNote</span> <span class="ow">in</span> <span class="n">noteList</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">thisNote</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="n">C</span>
 <span class="n">F</span>
 <span class="n">B</span>
</pre></div>
</div>
<p>We can find out what the first note of noteList is by writing:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note C&gt;
</pre></div>
</div>
<p>Notice that in a list, the first element is <code class="docutils literal"><span class="pre">[0]</span></code>, not <code class="docutils literal"><span class="pre">[1]</span></code>. There
are all sorts of historical reasons why computers start counting lists
with zero rather than one&#8211;some good, some obsolete&#8211;but we need to live
with this if we&#8217;re going to get any work done. Think of it like how
floors are numbered in European buildings compared to American
buildings. If we go forward one note, to the second note, we write:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note F#&gt;
</pre></div>
</div>
<p>We can also ask <code class="docutils literal"><span class="pre">noteList</span></code> where is <code class="docutils literal"><span class="pre">note2</span></code> within it, using the
<code class="docutils literal"><span class="pre">index()</span></code> method:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">note2</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">1</span>
</pre></div>
</div>
<p>If we want to get the last element of a list, we can write:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>Which is how basements are numbered in Europe as well. This is the same
element as <code class="docutils literal"><span class="pre">noteList[2]</span></code> (our third Note), as we can have Python
prove:`</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">noteList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">noteList</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="bp">True</span>
</pre></div>
</div>
<p>Lists will become important tools in your programming, but they don&#8217;t
know anything about music. To get some intelligence into our music we&#8217;ll
need to know about a <code class="docutils literal"><span class="pre">music21</span></code> object similar to lists, called a
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
</div>
<div class="section" id="introduction-to-streams">
<h2>Introduction to Streams<a class="headerlink" href="#introduction-to-streams" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a> object and its subclasses (Score,
Part, Measure) are the fundamental containers for music21 objects such
as <a class="reference internal" href="../moduleReference/moduleNote.html#music21.note.Note" title="music21.note.Note"><code class="xref py py-class docutils literal"><span class="pre">Note</span></code></a>, <a class="reference internal" href="../moduleReference/moduleChord.html#music21.chord.Chord" title="music21.chord.Chord"><code class="xref py py-class docutils literal"><span class="pre">Chord</span></code></a>,
<a class="reference internal" href="../moduleReference/moduleClef.html#music21.clef.Clef" title="music21.clef.Clef"><code class="xref py py-class docutils literal"><span class="pre">Clef</span></code></a>, <a class="reference internal" href="../moduleReference/moduleMeter.html#music21.meter.TimeSignature" title="music21.meter.TimeSignature"><code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code></a>
objects.</p>
<p>A container is like a Python list (or an array in some languages).</p>
<p>Objects stored in a Stream are generally spaced in time; each stored
object has an offset usually representing how many quarter notes it lies
from the beginning of the Stream. For instance in a 4/4 measure of two
half notes, the first note will be at offset 0.0, and the second at
offset 2.0.</p>
<p>Streams, further, can store other Streams, permitting a wide variety of
nested, ordered, and timed structures. These stored streams also have
offsets. So if we put two 4/4 Measure objects (subclasses of Stream)
into a Part (also a type of Stream), then the first measure will be at
offset 0.0 and the second measure will be at offset 4.0.</p>
<p>Commonly used subclasses of Streams include the
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a>, <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Part" title="music21.stream.Part"><code class="xref py py-class docutils literal"><span class="pre">Part</span></code></a>, and
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Measure" title="music21.stream.Measure"><code class="xref py py-class docutils literal"><span class="pre">Measure</span></code></a>. It is important to grasp that any
time we want to collect and contain a group of music21 objects, we put
them into a Stream. Streams can also be used for less conventional
organizational structures. We frequently will build and pass around
short-lived, temporary Streams, since doing this opens up a wide variety
of tools for extracting, processing, and manipulating objects on the
Stream. For instance, if you are looking at only notes on beat 2 of any
measure, you&#8217;ll probably want to put them into a Stream as well.</p>
<p>A critical feature of music21&#8217;s design that distinguishes it from other
music analysis frameworks is that one music21 object can be
simultaneously stored (or, more accurately, referenced) in more than one
Stream. For examples, we might have numerous
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Measure" title="music21.stream.Measure"><code class="xref py py-class docutils literal"><span class="pre">Measure</span></code></a> Streams contained in a
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Part" title="music21.stream.Part"><code class="xref py py-class docutils literal"><span class="pre">Part</span></code></a> Stream. If we extract a region of this
Part (using the <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.measures" title="music21.stream.Stream.measures"><code class="xref py py-meth docutils literal"><span class="pre">measures()</span></code></a> method), we
get a new Stream containing the specified Measures and the contained
notes. We have not actually created new notes within these extracted
measures; the output Stream simply has references to the same objects.
Changes made to Notes in this output Stream will be simultaneously
reflected in Notes in the source Part. There is one limitation though:
the same object should not appear twice in one hierarchical structure of
Streams. For instance, you should not put a note object in both measure
3 and measure 5 of the same piece &#8211; it can appear in measure 3 of one
piece and measure 5 of another piece. (For instance, if you wanted to
track a particular note&#8217;s context in an original version of a score and
an arrangement). Most users will never need to worry about these
details: just know that this feature lets music21 do some things that no
other software package can do.</p>
</div>
<div class="section" id="creating-simple-streams">
<h2>Creating simple Streams<a class="headerlink" href="#creating-simple-streams" title="Permalink to this headline">¶</a></h2>
<p>Objects stored in Streams are called elements and must be some type of
Music21Object (don’t worry, almost everything in music21 is a
Music21Object, such as Note, Chord, TimeSignature, etc.).</p>
<p>(If you want to put an object that&#8217;s not a Music21Object in a Stream,
put it in an <a class="reference internal" href="../moduleReference/moduleBase.html#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a>.)</p>
<p>Streams are similar to Python lists in that they hold individual
elements in order. They&#8217;re different in that they can only hold
<code class="docutils literal"><span class="pre">music21</span></code> objects such as Notes or <a class="reference internal" href="../moduleReference/moduleClef.html#music21.clef.Clef" title="music21.clef.Clef"><code class="xref py py-class docutils literal"><span class="pre">Clef</span></code></a>
objects. But they&#8217;re a lot smarter and more powerful.</p>
<p>To create a Stream you&#8217;ll need to type <code class="docutils literal"><span class="pre">stream.Stream()</span></code> and assign it
to a variable using the equal sign. Let&#8217;s call our Stream <code class="docutils literal"><span class="pre">stream1</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Notice that just like how the (capital) <code class="docutils literal"><span class="pre">Note</span></code> object lives in a
module called (lowercase) <code class="docutils literal"><span class="pre">note</span></code>, the (capital) <code class="docutils literal"><span class="pre">Stream</span></code> object
lives in a module called (lowercase) <code class="docutils literal"><span class="pre">stream</span></code>. Variable names, like
<code class="docutils literal"><span class="pre">stream1</span></code> can be either uppercase or lowercase, but I tend to use
lowercase variable names (or camelCase like we did with <code class="docutils literal"><span class="pre">noteList</span></code>).</div>
</div>
<div class="line-block">
<div class="line">The most common use of Streams is as places to store Notes. So let&#8217;s
do just that: we can add the three <code class="docutils literal"><span class="pre">Note</span></code> objects we created above
by using the <code class="docutils literal"><span class="pre">append</span></code> method of <code class="docutils literal"><span class="pre">Stream</span></code>:</div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note1</span><span class="p">)</span>
<span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note2</span><span class="p">)</span>
<span class="n">stream1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note3</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, this would be a pain to type for hundreds of <code class="docutils literal"><span class="pre">Notes</span></code>, so we
could also use the Stream method
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.repeatAppend" title="music21.stream.Stream.repeatAppend"><code class="xref py py-meth docutils literal"><span class="pre">repeatAppend()</span></code></a> to add a number of
independent, unique copies of the same Note. This creates independent
copies (using Python&#8217;s <code class="docutils literal"><span class="pre">copy.deepcopy</span></code> function) of the supplied
object, not references.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&#39;d#5&#39;</span><span class="p">)</span> <span class="c"># octave values can be included in creation arguments</span>
<span class="n">stream2</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">stream2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_04_stream1_48_0.png" src="../_images/usersGuide_04_stream1_48_0.png" />
<p>But let&#8217;s worry about that later. Going back to our first stream, we can
see that it has three notes using the same <code class="docutils literal"><span class="pre">len()</span></code> function that we
used before:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="nb">len</span><span class="p">(</span><span class="n">stream1</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">3</span>
</pre></div>
</div>
<p>Alternatively, we can use the <a class="reference internal" href="../moduleReference/moduleBase.html#music21.base.Music21Object.show" title="music21.base.Music21Object.show"><code class="xref py py-meth docutils literal"><span class="pre">show()</span></code></a>
method called as <code class="docutils literal"><span class="pre">show('text')</span></code> to see what is in the Stream and what
its offset is (here 0.0, since we put it at the end of an empty stream).
show(‘text’) to see what is in the Stream and what its offset is (here
0.0, since we put it at the end of an empty stream).</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>If you’ve setup your environment properly, then calling show with the
<code class="docutils literal"><span class="pre">musicxml</span></code> argument should open up Finale Reader, or Sibelius, or
MuseScore or some music notation software and display the notes below.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_04_stream1_54_0.png" src="../_images/usersGuide_04_stream1_54_0.png" />
</div>
<div class="section" id="accessing-streams">
<h2>Accessing Streams<a class="headerlink" href="#accessing-streams" title="Permalink to this headline">¶</a></h2>
<p>We can also dive deeper into streams. Let&#8217;s get the <code class="docutils literal"><span class="pre">step</span></code> of each
<code class="docutils literal"><span class="pre">Note</span></code> using the <code class="docutils literal"><span class="pre">for</span> <span class="pre">thisNote</span> <span class="pre">in</span> <span class="pre">...:</span></code> command. But now we&#8217;ll use
<code class="docutils literal"><span class="pre">stream1</span></code> instead of <code class="docutils literal"><span class="pre">noteList</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">thisNote</span> <span class="ow">in</span> <span class="n">stream1</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">thisNote</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="n">C</span>
 <span class="n">F</span>
 <span class="n">B</span>
</pre></div>
</div>
<p>And we can get the first and the last <code class="docutils literal"><span class="pre">Note</span></code> in a <code class="docutils literal"><span class="pre">Stream</span></code> by using
the [X] form, just like other Python list-like objects:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note C&gt;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">nameWithOctave</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="s">&#39;F#4&#39;</span>
</pre></div>
</div>
<p>While full list-like functionality of the Stream isn&#8217;t there, some
additional methods familiar to users of Python lists are also available.
The Stream <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.index" title="music21.stream.Stream.index"><code class="xref py py-meth docutils literal"><span class="pre">index()</span></code></a> method can be used to
get the first-encountered index of a supplied object. Given an index, an
element from the Stream can be removed with the
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.pop" title="music21.stream.Stream.pop"><code class="xref py py-meth docutils literal"><span class="pre">pop()</span></code></a> method.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">note3</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">2</span>
</pre></div>
</div>
<div class="section" id="separating-out-elements-by-class-with-getelementsbyclass">
<h3>Separating out elements by class with <code class="docutils literal"><span class="pre">.getElementsByClass()</span></code><a class="headerlink" href="#separating-out-elements-by-class-with-getelementsbyclass" title="Permalink to this headline">¶</a></h3>
<p>We can also gather elements based on the class (object type) of the
element, by offset range, or by specific identifiers attached to the
element. As before, gathering elements from a Stream will often return a
new Stream with references to the collected elements.</p>
<p>Gathering elements from a Stream based on the class of the element
provides a way to filter the Stream for desired types of objects. The
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.getElementsByClass" title="music21.stream.Stream.getElementsByClass"><code class="xref py py-meth docutils literal"><span class="pre">getElementsByClass()</span></code></a> method returns a
Stream of elements that are instances or subclasses of the provided
classes. The example below gathers all <a class="reference internal" href="../moduleReference/moduleNote.html#music21.note.Note" title="music21.note.Note"><code class="xref py py-class docutils literal"><span class="pre">Note</span></code></a>
objects and then all <a class="reference internal" href="../moduleReference/moduleNote.html#music21.note.Rest" title="music21.note.Rest"><code class="xref py py-class docutils literal"><span class="pre">Rest</span></code></a> objects.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">)</span>
<span class="n">sOut</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>If you want instead of passing the class <code class="docutils literal"><span class="pre">note.Note</span></code> you could instead
pass the string <code class="docutils literal"><span class="pre">&quot;Note&quot;</span></code>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s">&quot;Note&quot;</span><span class="p">)</span>
<span class="n">sOut</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>It is also possible to pass in a list of classes or strings of class
names to <code class="docutils literal"><span class="pre">.getElementsByClass()</span></code> which will return anything that
matches any of the classes. Notice the <code class="docutils literal"><span class="pre">[]</span></code> marks in the next call,
indicating that we are creating a list to pass to
<code class="docutils literal"><span class="pre">.getElementsByClass()</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">([</span><span class="s">&quot;Note&quot;</span><span class="p">,</span> <span class="s">&quot;Rest&quot;</span><span class="p">])</span>
<span class="n">sOut</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>Since there are no <code class="docutils literal"><span class="pre">note.Rest</span></code> objects, it&#8217;s the same as above. Oh
well...</p>
<p><code class="docutils literal"><span class="pre">music21</span></code> has a couple of shortcuts that are equivalent to
<code class="docutils literal"><span class="pre">.getElementsByClass</span></code>. For instance <code class="docutils literal"><span class="pre">.notes</span></code> is equivalent to
<code class="docutils literal"><span class="pre">.getElementsByClass([&quot;Note&quot;,</span> <span class="pre">&quot;Chord&quot;])</span></code> (we&#8217;ll get to chords soon):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">notes</span>
<span class="n">sOut</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>And <code class="docutils literal"><span class="pre">.notesAndRests</span></code> is equivalent to
<code class="docutils literal"><span class="pre">.getElementsByClass(['Note',</span> <span class="pre">'Chord',</span> <span class="pre">'Rest'])</span></code>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">notesAndRests</span>
<span class="nb">len</span><span class="p">(</span><span class="n">sOut</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">stream1</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="bp">True</span>
</pre></div>
</div>
<p>Finally, there&#8217;s something slightly different. <code class="docutils literal"><span class="pre">.pitches</span></code> begins with
a call to <code class="docutils literal"><span class="pre">.notes</span></code>, but then returns a list (not a stream) of all the
pitches from every <code class="docutils literal"><span class="pre">Note</span></code> or <code class="docutils literal"><span class="pre">Chord</span></code> in the Stream:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">listOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">pitches</span>
<span class="n">listOut</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> [&lt;music21.pitch.Pitch C4&gt;,
  &lt;music21.pitch.Pitch F#4&gt;,
  &lt;music21.pitch.Pitch B-2&gt;]
</pre></div>
</div>
</div>
<div class="section" id="separating-out-elements-by-offset-with-getelementsbyoffset">
<h3>Separating out elements by offset with <code class="docutils literal"><span class="pre">.getElementsByOffset()</span></code><a class="headerlink" href="#separating-out-elements-by-offset-with-getelementsbyoffset" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.getElementsByOffset" title="music21.stream.Stream.getElementsByOffset"><code class="xref py py-meth docutils literal"><span class="pre">getElementsByOffset()</span></code></a> method returns
a Stream of all elements that fall either at a single offset or within a
range of two offsets provided as an argument. In both cases a Stream is
returned.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">getElementsByOffset</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">sOut</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">1</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sOut</span> <span class="o">=</span> <span class="n">stream1</span><span class="o">.</span><span class="n">getElementsByOffset</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">sOut</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>We will do more with <code class="docutils literal"><span class="pre">.getElementsByOffset()</span></code> later when we also talk
about <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.getElementAtOrBefore" title="music21.stream.Stream.getElementAtOrBefore"><code class="xref py py-meth docutils literal"><span class="pre">getElementAtOrBefore()</span></code></a> and
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Stream.getElementAfterElement" title="music21.stream.Stream.getElementAfterElement"><code class="xref py py-meth docutils literal"><span class="pre">getElementAfterElement()</span></code></a></p>
</div>
</div>
<div class="section" id="more-stream-features">
<h2>More Stream Features<a class="headerlink" href="#more-stream-features" title="Permalink to this headline">¶</a></h2>
<p>Okay, so far we&#8217;ve seen that <code class="docutils literal"><span class="pre">Streams</span></code> can do the same things as
lists, but can they do more? Let&#8217;s call the analyze method on stream to
get the ambitus (that is, the range from the lowest note to the highest
note) of the <code class="docutils literal"><span class="pre">Notes</span></code> in the <code class="docutils literal"><span class="pre">Stream</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span><span class="s">&#39;ambitus&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.interval.Interval A12&gt;
</pre></div>
</div>
<p>Let&#8217;s take a second to check this. Our lowest note is <code class="docutils literal"><span class="pre">note3</span></code> (B-flat
in octave 2) and our highest note is <code class="docutils literal"><span class="pre">note2</span></code> (F-sharp in octave 4).
From B-flat to the F-sharp above it, is an augmented fifth. An augmented
fifth plus an octave is an augmented twelfth. So we&#8217;re doing well so
far. (We&#8217;ll get to other things we can analyze in chapter 18 and we&#8217;ll
see what an <a class="reference internal" href="../moduleReference/moduleInterval.html#music21.interval.Interval" title="music21.interval.Interval"><code class="xref py py-class docutils literal"><span class="pre">Interval</span></code></a> object can do in
chapter 15).</p>
<p>As we mentioned earlier, when placed in a Stream, Notes and other
elements also have an offset (stored in .offset) that describes their
position from the beginning of the stream. These offset values are also
given in quarter-lengths (QLs).</p>
<p>Once a Note is in a Stream, we can ask for the <code class="docutils literal"><span class="pre">offset</span></code> of the
<code class="docutils literal"><span class="pre">Notes</span></code> (or anything else) in it. The <code class="docutils literal"><span class="pre">offset</span></code> is the position of a
Note relative to the start of the <code class="docutils literal"><span class="pre">Stream</span></code> measured in quarter notes.
So note1&#8217;s offset will be 0.0, since it&#8217;s at the start of the Stream:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span><span class="o">.</span><span class="n">offset</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">0.0</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">note2</span></code>&#8216;s offset will be 2.0, since <code class="docutils literal"><span class="pre">note1</span></code> is a half note, worth
two quarter notes:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note2</span><span class="o">.</span><span class="n">offset</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">2.0</span>
</pre></div>
</div>
<p>And <code class="docutils literal"><span class="pre">note3</span></code>, which follows the quarter note <code class="docutils literal"><span class="pre">note2</span></code> will be at
offset 3.0:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note3</span><span class="o">.</span><span class="n">offset</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">3.0</span>
</pre></div>
</div>
<p>(If we made <code class="docutils literal"><span class="pre">note2</span></code> an eighth note, then <code class="docutils literal"><span class="pre">note3</span></code>&#8216;s offset would be
the floating point [decimal] value 2.5. But we didn&#8217;t.) So now when
we&#8217;re looping we can see the offset of each note. Let&#8217;s print the note&#8217;s
offset followed by its name by putting .offset and .name in the same
line, separated by a comma:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">thisNote</span> <span class="ow">in</span> <span class="n">stream1</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">thisNote</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">thisNote</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> 0.0 C
 2.0 F#
 3.0 B-
</pre></div>
</div>
<p>(<strong>Digression</strong>: It&#8217;s probably not too early to learn that a safer form
of <code class="docutils literal"><span class="pre">.offset</span></code> is <code class="docutils literal"><span class="pre">.getOffsetBySite(stream1)</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note2</span><span class="o">.</span><span class="n">offset</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">2.0</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note2</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">stream1</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">2.0</span>
</pre></div>
</div>
<p>What&#8217;s the difference? Remember how I said that <code class="docutils literal"><span class="pre">.offset</span></code> refers to
the number of quarter notes that the <code class="docutils literal"><span class="pre">Note</span></code> is from the front of a
<code class="docutils literal"><span class="pre">Stream</span></code>? Well, eventually you may put the same <code class="docutils literal"><span class="pre">Note</span></code> in different
places in multiple <code class="docutils literal"><span class="pre">Streams</span></code>, so the <code class="docutils literal"><span class="pre">.getOffsetBySite(X)</span></code> command
is a safer way that specifies exactly which Stream we are talking about.
End of digression...)</p>
<p>As a final note about offsets, the
:attr:<code class="docutils literal"><span class="pre">~music21.stream.Stream.lowestOffset</span></code> property returns the
minimum of all offsets for all elements on the Stream.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">lowestOffset</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">0.0</span>
</pre></div>
</div>
<p>So, what else can we do with Streams? Like <code class="docutils literal"><span class="pre">Note</span></code> objects, we can
<code class="docutils literal"><span class="pre">show()</span></code> them in a couple of different ways. Let&#8217;s hear these three
Notes as a MIDI file:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;midi&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or let&#8217;s see them as a score:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_04_stream1_99_0.png" src="../_images/usersGuide_04_stream1_99_0.png" />
<p>You might ask why is the piece in common-time (4/4)? This is just the
default for new pieces, which is in the <code class="docutils literal"><span class="pre">defaults</span></code> module:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">defaults</span><span class="o">.</span><span class="n">meterNumerator</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mi">4</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">defaults</span><span class="o">.</span><span class="n">meterDenominator</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="s">&#39;quarter&#39;</span>
</pre></div>
</div>
<p>(Some of these examples use a system that automatically tries to get an
appropriate time signature and appropriate clef; in this case,
<code class="docutils literal"><span class="pre">music21</span></code> figured out that that low B-flat would be easier to see in
bass clef than treble.)</p>
<p>We&#8217;ll learn how to switch the <a class="reference internal" href="../moduleReference/moduleMeter.html#music21.meter.TimeSignature" title="music21.meter.TimeSignature"><code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code></a>
soon enough.</p>
<p>If you don&#8217;t have MIDI or MusicXML configured yet (we&#8217;ll get to it in a
second) and you don&#8217;t want to have other programs open up, you can show
a <code class="docutils literal"><span class="pre">Stream</span></code> in text in your editor:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note C&gt;
 {2.0} &lt;music21.note.Note F#&gt;
 {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>This display shows the <code class="docutils literal"><span class="pre">offset</span></code> for each element (that is, each object
in the Stream) along with what class it is, and a little bit more
helpful information. The information is the same as what&#8217;s called the
<code class="docutils literal"><span class="pre">__repr__</span></code> (representation) of the object, which is what you get if
you type its variable name at the prompt:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note C&gt;
</pre></div>
</div>
<p>By the way, Streams have a <code class="docutils literal"><span class="pre">__repr__</span></code> as well:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.stream.Stream 0x1056d0358&gt;
</pre></div>
</div>
<p>that number at the end is the hex form of the <code class="docutils literal"><span class="pre">.id</span></code> of the <code class="docutils literal"><span class="pre">Stream</span></code>,
which is a way of identifying it. Often the <code class="docutils literal"><span class="pre">.id</span></code> of a Stream will be
the name of the <code class="docutils literal"><span class="pre">Part</span></code> (&#8220;Violin II&#8221;), but if it&#8217;s undefined then a
somewhat random number is used (actually the location of the Stream in
your computer&#8217;s memory). We can change the <code class="docutils literal"><span class="pre">.id</span></code> of a Stream:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&#39;some notes&#39;</span>
<span class="n">stream1</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.stream.Stream some notes&gt;
</pre></div>
</div>
<p>We could have also changed the <code class="docutils literal"><span class="pre">.id</span></code> of any of our <code class="docutils literal"><span class="pre">Note</span></code> objects,
but it doesn&#8217;t show up in the <code class="docutils literal"><span class="pre">Note</span></code>&#8216;s <code class="docutils literal"><span class="pre">__repr__</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&#39;my favorite C&#39;</span>
<span class="n">note1</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.note.Note C&gt;
</pre></div>
</div>
<p>Now, a <code class="docutils literal"><span class="pre">Stream</span></code> is a <a class="reference internal" href="../moduleReference/moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a> just like
a <code class="docutils literal"><span class="pre">Note</span></code> is. This is why it has an <code class="docutils literal"><span class="pre">.id</span></code> attribute and, more
importantly, why you can call <code class="docutils literal"><span class="pre">.show()</span></code> on it.</p>
<p>What else makes a <code class="docutils literal"><span class="pre">Music21Object</span></code> what it is? It has a <code class="docutils literal"><span class="pre">.duration</span></code>
attribute which stores a <code class="docutils literal"><span class="pre">Duration</span></code> object:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">duration</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> &lt;music21.duration.Duration 4.0&gt;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="s">&#39;whole&#39;</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">4.0</span>
</pre></div>
</div>
<p>(Notice that the <code class="docutils literal"><span class="pre">len()</span></code> of a <code class="docutils literal"><span class="pre">Stream</span></code>, which stands for &#8220;length&#8221;,
is not the same as the duration. the <code class="docutils literal"><span class="pre">len()</span></code> of a Stream is the number
of objects stored in it, so <code class="docutils literal"><span class="pre">len(stream1)</span></code> is 3).</p>
<p>A related concept to the <code class="docutils literal"><span class="pre">.duration</span></code> of a Stream is its
<code class="docutils literal"><span class="pre">.highestTime</span></code>, which is the time at which the latest element in the
<code class="docutils literal"><span class="pre">Stream</span></code> ends. Usually this is the last element of the stream&#8217;s
<code class="docutils literal"><span class="pre">.offset</span></code> plus its <code class="docutils literal"><span class="pre">.quarterLength</span></code>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">stream1</span><span class="o">.</span><span class="n">highestTime</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="mf">4.0</span>
</pre></div>
</div>
</div>
<div class="section" id="streams-within-streams">
<h2>Streams within Streams<a class="headerlink" href="#streams-within-streams" title="Permalink to this headline">¶</a></h2>
<p>And, as a <code class="docutils literal"><span class="pre">Music21Object</span></code>, a <code class="docutils literal"><span class="pre">Stream</span></code> can be placed inside of
another <code class="docutils literal"><span class="pre">Stream</span></code> object. Let&#8217;s create a stream, called biggerStream
(for reasons that will become obvious), that holds a <code class="docutils literal"><span class="pre">Note</span></code> D# at the
beginning</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">biggerStream</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="n">note2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&quot;D#5&quot;</span><span class="p">)</span>
<span class="n">biggerStream</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">note2</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we use the <code class="docutils literal"><span class="pre">.append</span></code> functionality to put <code class="docutils literal"><span class="pre">stream1</span></code> at the end
of <code class="docutils literal"><span class="pre">biggerStream</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">biggerStream</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stream1</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that when we call <code class="docutils literal"><span class="pre">.show('text')</span></code> on biggerStream, we see not
only the presence of <code class="docutils literal"><span class="pre">note2</span></code> and <code class="docutils literal"><span class="pre">stream1</span></code> but also all the contents
of <code class="docutils literal"><span class="pre">stream1</span></code> as well:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">biggerStream</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> {0.0} &lt;music21.note.Note D#&gt;
 {1.0} &lt;music21.stream.Stream some notes&gt;
     {0.0} &lt;music21.note.Note C&gt;
     {2.0} &lt;music21.note.Note F#&gt;
     {3.0} &lt;music21.note.Note B-&gt;
</pre></div>
</div>
<p>Notice though that the offsets, the little numbers inside curly
brackets, for the elements of <code class="docutils literal"><span class="pre">stream1</span></code> (&#8220;some notes&#8221;) relate only to
their positions within <code class="docutils literal"><span class="pre">stream1</span></code>, not to their position within
<code class="docutils literal"><span class="pre">biggerStream</span></code>. This is because each <code class="docutils literal"><span class="pre">Music21Object</span></code> knows its
offset only in relation to its containing <code class="docutils literal"><span class="pre">Stream</span></code>, not necessarily to
the <code class="docutils literal"><span class="pre">Stream</span></code> containing <em>that</em> <code class="docutils literal"><span class="pre">Stream</span></code>.</p>
<p>Also notice that <code class="docutils literal"><span class="pre">note1</span></code> knows that it is in <code class="docutils literal"><span class="pre">stream1</span></code> but doesn&#8217;t
know that it is somewhere inside <code class="docutils literal"><span class="pre">biggerStream</span></code>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span> <span class="ow">in</span> <span class="n">stream1</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="bp">True</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">note1</span> <span class="ow">in</span> <span class="n">biggerStream</span>
</pre></div>
</div>
<div class="ipython-result highlight-python"><div class="highlight"><pre> <span class="bp">False</span>
</pre></div>
</div>
<p>All this might not seem like much of a big deal, until we tell you that
in music21, <code class="docutils literal"><span class="pre">Scores</span></code> are made up of <code class="docutils literal"><span class="pre">Streams</span></code> within <code class="docutils literal"><span class="pre">Streams</span></code>
within <code class="docutils literal"><span class="pre">Streams</span></code>. So if you have an orchestral score, it is a
<code class="docutils literal"><span class="pre">Stream</span></code>, and the viola part is a <code class="docutils literal"><span class="pre">Stream</span></code> in that <code class="docutils literal"><span class="pre">Stream</span></code>, and
measure 5 of the viola part is a <code class="docutils literal"><span class="pre">Stream</span></code> within that <code class="docutils literal"><span class="pre">Stream</span></code>, and,
if there were a &#8216;&#8217;divisi&#8217;&#8216;, then each &#8216;&#8217;diviso&#8217;&#8217; voice would be a
<code class="docutils literal"><span class="pre">Stream</span></code> within that <code class="docutils literal"><span class="pre">Stream</span></code>. Each of these <code class="docutils literal"><span class="pre">Streams</span></code> has a
special name and its own class (<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a>,
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Part" title="music21.stream.Part"><code class="xref py py-class docutils literal"><span class="pre">Part</span></code></a>, <a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Measure" title="music21.stream.Measure"><code class="xref py py-class docutils literal"><span class="pre">Measure</span></code></a>, and
<a class="reference internal" href="../moduleReference/moduleStream.html#music21.stream.Voice" title="music21.stream.Voice"><code class="xref py py-class docutils literal"><span class="pre">Voice</span></code></a>), but they are all types of
<code class="docutils literal"><span class="pre">Streams</span></code>.</p>
<p>So how do we find <code class="docutils literal"><span class="pre">note1</span></code> inside <code class="docutils literal"><span class="pre">biggerStream</span></code>? That&#8217;s what the
next two chapters are about.</p>
<p><a class="reference internal" href="usersGuide_05_listsOfLists.html#usersguide-05-listsoflists"><span>Chapter 5 covers Lists of Lists</span></a>.
Those with programming experience who have familiarity with lists of
lists and defining functions might want to skip to
<a class="reference internal" href="usersGuide_06_stream2.html#usersguide-06-stream2"><span>Chapter 6 Streams of Streams</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usersGuide_05_listsOfLists.html" title="User’s Guide, Chapter 5: Lists of Lists, Functions, and Recursion"
             >next</a> |</li>
        <li class="right" >
          <a href="usersGuide_03_pitches.html" title="User’s Guide, Chapter 3: Pitches, Durations, and Notes again"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Sep 28, 2015.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>