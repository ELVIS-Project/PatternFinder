<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.abcFormat.translate &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.alpha.analysis.search" href="moduleAlphaAnalysisSearch.html" />
    <link rel="prev" title="music21.abcFormat" href="moduleAbcFormat.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleAlphaAnalysisSearch.html" title="music21.alpha.analysis.search"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleAbcFormat.html" title="music21.abcFormat"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleAbcFormat.html"
                        title="previous chapter">music21.abcFormat</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleAlphaAnalysisSearch.html"
                        title="next chapter">music21.alpha.analysis.search</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.abcFormat.translate</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleAbcFormatTranslate.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-abcformat-translate">
<span id="moduleabcformattranslate"></span><h1>music21.abcFormat.translate<a class="headerlink" href="#music21-abcformat-translate" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.abcFormat.translate"></span><p>Functions for translating music21 objects and
<a class="reference internal" href="moduleAbcFormat.html#music21.abcFormat.ABCHandler" title="music21.abcFormat.ABCHandler"><code class="xref py py-class docutils literal"><span class="pre">ABCHandler</span></code></a> instances.
Mostly, these functions are for advanced, low level usage.
For basic importing of ABC files from a file or URL to a
<a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>, use the music21 converter
module&#8217;s <a class="reference internal" href="moduleConverter.html#music21.converter.parse" title="music21.converter.parse"><code class="xref py py-func docutils literal"><span class="pre">parse()</span></code></a> function.</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.abcFormat.translate.abcToStreamOpus">
<code class="descclassname">music21.abcFormat.translate.</code><code class="descname">abcToStreamOpus</code><span class="sig-paren">(</span><em>abcHandler</em>, <em>inputM21=None</em>, <em>number=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.abcFormat.translate.abcToStreamOpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multi-work stream into one or more complete works packed into a an Opus Stream.</p>
<p>If a <cite>number</cite> argument is given, and a work is defined by
that number, that work is returned.</p>
</dd></dl>

<dl class="function">
<dt id="music21.abcFormat.translate.abcToStreamPart">
<code class="descclassname">music21.abcFormat.translate.</code><code class="descname">abcToStreamPart</code><span class="sig-paren">(</span><em>abcHandler</em>, <em>inputM21=None</em>, <em>spannerBundle=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.abcFormat.translate.abcToStreamPart" title="Permalink to this definition">¶</a></dt>
<dd><p>Handler conversion of a single Part of a multi-part score.
Results are added into the provided inputM21 object
or a newly created Part object</p>
<p>The part object is then returned.</p>
</dd></dl>

<dl class="function">
<dt id="music21.abcFormat.translate.abcToStreamScore">
<code class="descclassname">music21.abcFormat.translate.</code><code class="descname">abcToStreamScore</code><span class="sig-paren">(</span><em>abcHandler</em>, <em>inputM21=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.abcFormat.translate.abcToStreamScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an abcHandler object, build into a multi-part <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a> with metadata.</p>
<p>This assumes that this ABCHandler defines a single work (with 1 or fewer reference numbers).</p>
<p>if the optional parameter inputM21 is given a music21 Stream subclass, it will use that object
as the outermost object.  However, inner parts will always be made <a class="reference internal" href="moduleStream.html#music21.stream.Part" title="music21.stream.Part"><code class="xref py py-class docutils literal"><span class="pre">Part</span></code></a> objects.</p>
</dd></dl>

<dl class="function">
<dt id="music21.abcFormat.translate.parseTokens">
<code class="descclassname">music21.abcFormat.translate.</code><code class="descname">parseTokens</code><span class="sig-paren">(</span><em>mh</em>, <em>dst</em>, <em>p</em>, <em>useMeasures</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.abcFormat.translate.parseTokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="music21.abcFormat.translate.reBar">
<code class="descclassname">music21.abcFormat.translate.</code><code class="descname">reBar</code><span class="sig-paren">(</span><em>music21Part</em>, <em>inPlace=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.abcFormat.translate.reBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-bar overflow measures using the last known time signature.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">irl2</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;irl&quot;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">irl2</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Aililiu na Gamhna, S.35&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part</span> <span class="o">=</span> <span class="n">irl2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The whole part is in 2/4 time, but there are some measures expressed in 4/4 time
without an explicit time signature change, an error in abc parsing due to the
omission of barlines. The method will split those measures such that they conform
to the last time signature, in this case 2/4. The default is to reBar in place.
The measure numbers are updated accordingly.</p>
<p>(NOTE: reBar is called automatically in abcToStreamPart, hence not demonstrated below...)</p>
<p>The key signature and clef are assumed to be the same in the second measure after the
split, so both are omitted. If the time signature is not the same in the second measure,
the new time signature is indicated, and the measure following returns to the last time
signature, except in the case that a new time signature is indicated.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note A&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{0.5} &lt;music21.note.Note B-&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.5} &lt;music21.note.Note G&gt;</span>
</pre></div>
</div>
<p>An example where the time signature wouldn&#8217;t be the same. This score is
mistakenly marked as 4/4, but has some measures that are longer.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">irl15</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;irl&quot;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">irl15</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Esternowe, S. 60&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part2</span> <span class="o">=</span> <span class="n">irl15</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c"># 4/4 time signature</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part2</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{1.5} &lt;music21.note.Note G&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{2.5} &lt;music21.note.Note G&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part2</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">1.5</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">music21Part2</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&quot;text&quot;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.meter.TimeSignature 1/8&gt;</span>
<span class="go">{0.0} &lt;music21.note.Note E&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleAlphaAnalysisSearch.html" title="music21.alpha.analysis.search"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleAbcFormat.html" title="music21.abcFormat"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Sep 28, 2015.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>