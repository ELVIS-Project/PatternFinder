<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.corpus &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.corpus.chorales" href="moduleCorpusChorales.html" />
    <link rel="prev" title="music21.converter.subConverters" href="moduleConverterSubConverters.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCorpusChorales.html" title="music21.corpus.chorales"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleConverterSubConverters.html" title="music21.converter.subConverters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleConverterSubConverters.html"
                        title="previous chapter">music21.converter.subConverters</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleCorpusChorales.html"
                        title="next chapter">music21.corpus.chorales</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.corpus</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleCorpus.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-corpus">
<span id="modulecorpus"></span><h1>music21.corpus<a class="headerlink" href="#music21-corpus" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.corpus"></span><p>The music21 corpus includes a collection of freely distributable
music in MusicXML, Humdrum, and other representations. The corpus
package is an interface for easily working with this data.</p>
<p>To see a complete listing of the works in the music21 corpus,
visit  <a class="reference internal" href="../about/referenceCorpus.html#referencecorpus"><span>List of Works Found in the music21 Corpus</span></a>.  Note that music21 does not own
most of the music in the corpus &#8211; it has been licensed to us (or
in a free license).  It may not be free in all parts of the world,
but to the best of our knowledge is true for the US.</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.corpus.addPath">
<code class="descclassname">music21.corpus.</code><code class="descname">addPath</code><span class="sig-paren">(</span><em>filePath</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.addPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a directory path to the Local Corpus on a <em>temporary</em> basis, i.e., just
for the current Python session.</p>
<p>All directories contained within the provided directory will be searched
for files with file extensions matching the currently readable file types.
Any number of file paths can be added one at a time.</p>
<p>An error will be raised if the file path does not exist, is already defined
as a temporary, or is already being searched by being defined with the
<a class="reference internal" href="moduleEnvironment.html#music21.environment.Environment" title="music21.environment.Environment"><code class="xref py py-class docutils literal"><span class="pre">Environment</span></code></a> &#8216;localCorpusSettings&#8217; setting.</p>
<p>To permanently add a path to the list of stored local corpus paths,
set the &#8216;localCorpusPath&#8217; or &#8216;localCorpusSettings&#8217; setting of
the <a class="reference internal" href="moduleEnvironment.html#music21.environment.UserSettings" title="music21.environment.UserSettings"><code class="xref py py-class docutils literal"><span class="pre">UserSettings</span></code></a> object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">addPath</span><span class="p">(</span><span class="s">&#39;~/Documents&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, add a directory permanently (see link above
for more details):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">us</span> <span class="o">=</span> <span class="n">environment</span><span class="o">.</span><span class="n">UserSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">us</span><span class="p">[</span><span class="s">&#39;localCorpusPath&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;d:/desktop/&#39;</span>
</pre></div>
</div>
<p>Restart music21 after adding paths.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.cacheMetadata">
<code class="descclassname">music21.corpus.</code><code class="descname">cacheMetadata</code><span class="sig-paren">(</span><em>corpusNames=('local'</em>, <em>)</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.cacheMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuild the metadata cache.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.compressAllXMLFiles">
<code class="descclassname">music21.corpus.</code><code class="descname">compressAllXMLFiles</code><span class="sig-paren">(</span><em>deleteOriginal=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.compressAllXMLFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes all filenames in corpus.paths and runs
<a class="reference internal" href="#music21.corpus.compressXML" title="music21.corpus.compressXML"><code class="xref py py-meth docutils literal"><span class="pre">music21.corpus.compressXML()</span></code></a> on each.  If the musicXML files are
compressed, the originals are deleted from the system.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.compressXML">
<code class="descclassname">music21.corpus.</code><code class="descname">compressXML</code><span class="sig-paren">(</span><em>filename</em>, <em>deleteOriginal=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.compressXML" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a filename, and if the filename corresponds to a musicXML file with
an .xml extension, creates a corresponding compressed .mxl file in the same
directory.</p>
<p>If deleteOriginal is set to True, the original musicXML file is deleted
from the system.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getBachChorales">
<code class="descclassname">music21.corpus.</code><code class="descname">getBachChorales</code><span class="sig-paren">(</span><em>fileExtensions='xml'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getBachChorales" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the file name of all Bach chorales.</p>
<p>By default, only Bach Chorales in xml format are returned, because the
quality of the encoding and our parsing of those is superior.</p>
<p>N.B. Look at the module corpus.chorales for many better ways to work with
the chorales.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getBachChorales</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">400</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getBachChorales</span><span class="p">(</span><span class="s">&#39;krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getBachChorales</span><span class="p">(</span><span class="s">&#39;xml&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">400</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;/Users/cuthbert/Documents/music21/corpus/bach/bwv1.6.mxl&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getComposer">
<code class="descclassname">music21.corpus.</code><code class="descname">getComposer</code><span class="sig-paren">(</span><em>composerName</em>, <em>fileExtensions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getComposer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all filenames in the corpus that match a composer&#8217;s or a
collection&#8217;s name. An <cite>fileExtensions</cite>, if provided, defines which
extensions are returned. An <cite>fileExtensions</cite> of None (default) returns all
extensions.</p>
<p>Note that xml and mxl are treated equivalently.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getComposer</span><span class="p">(</span><span class="s">&#39;schoenberg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getComposer</span><span class="p">(</span><span class="s">&#39;bach&#39;</span><span class="p">,</span> <span class="s">&#39;krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getComposer</span><span class="p">(</span><span class="s">&#39;bach&#39;</span><span class="p">,</span> <span class="s">&#39;xml&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getComposerDir">
<code class="descclassname">music21.corpus.</code><code class="descname">getComposerDir</code><span class="sig-paren">(</span><em>composerName</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getComposerDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the name of a composer, get the path to the top-level directory of
that composer:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getComposerDir</span><span class="p">(</span><span class="s">&#39;bach&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;corpus&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;bach&#39;</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getCorePaths">
<code class="descclassname">music21.corpus.</code><code class="descname">getCorePaths</code><span class="sig-paren">(</span><em>fileExtensions=None</em>, <em>expandExtensions=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getCorePaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all paths in the corpus that match a known extension, or an extenion
provided by an argument.</p>
<p>If <cite>expandExtensions</cite> is True, a format for an extension, and related
extensions, will replaced by all known input extensions.</p>
<p>This is convenient when an input format might match for multiple
extensions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpusFilePaths</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getCorePaths</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cpl</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">corpusFilePaths</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2550</span> <span class="o">&lt;</span> <span class="n">cpl</span> <span class="o">&lt;</span> <span class="mi">2600</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">kernFilePaths</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getCorePaths</span><span class="p">(</span><span class="s">&#39;krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">kernFilePaths</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">500</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">abcFilePaths</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getCorePaths</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">abcFilePaths</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">100</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getLocalPaths">
<code class="descclassname">music21.corpus.</code><code class="descname">getLocalPaths</code><span class="sig-paren">(</span><em>fileExtensions=None</em>, <em>expandExtensions=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getLocalPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Access files in additional directories supplied by the user and defined in
environment settings in the &#8216;localCorpusSettings&#8217; list.</p>
<p>If additional paths are added on a per-session basis with the
<a class="reference internal" href="#music21.corpus.addPath" title="music21.corpus.addPath"><code class="xref py py-func docutils literal"><span class="pre">addPath()</span></code></a> function, these paths are also returned
with this method.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getMonteverdiMadrigals">
<code class="descclassname">music21.corpus.</code><code class="descname">getMonteverdiMadrigals</code><span class="sig-paren">(</span><em>fileExtensions='xml'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getMonteverdiMadrigals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the filenames of all Monteverdi madrigals.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getMonteverdiMadrigals</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">40</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getPaths">
<code class="descclassname">music21.corpus.</code><code class="descname">getPaths</code><span class="sig-paren">(</span><em>fileExtensions=None</em>, <em>expandExtensions=True</em>, <em>name=('local'</em>, <em>'core'</em>, <em>'virtual')</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Get paths from core, virtual, and/or local corpora.
This is the public interface for getting all corpus
paths with one function.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getVirtualPaths">
<code class="descclassname">music21.corpus.</code><code class="descname">getVirtualPaths</code><span class="sig-paren">(</span><em>fileExtensions=None</em>, <em>expandExtensions=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getVirtualPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all paths in the virtual corpus that match a known extension.</p>
<p>An extension of None will return all known extensions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="o">.</span><span class="n">getVirtualPaths</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">6</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getVirtualWorkList">
<code class="descclassname">music21.corpus.</code><code class="descname">getVirtualWorkList</code><span class="sig-paren">(</span><em>workName</em>, <em>movementNumber=None</em>, <em>fileExtensions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getVirtualWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a work name, search all virtual works and return a list of URLs for
any matches.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">getVirtualWorkList</span><span class="p">(</span><span class="s">&#39;bach/bwv1007/prelude&#39;</span><span class="p">)</span>
<span class="go">[&#39;http://kern.ccarh.org/cgi-bin/ksdata?l=cc/bach/cello&amp;file=bwv1007-01.krn&amp;f=xml&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">getVirtualWorkList</span><span class="p">(</span><span class="s">&#39;junk&#39;</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getWork">
<code class="descclassname">music21.corpus.</code><code class="descname">getWork</code><span class="sig-paren">(</span><em>workName</em>, <em>movementNumber=None</em>, <em>fileExtensions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getWork" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the corpus, then the virtual corpus, for a work, and return a file
path or URL.  N.B. does not parse the work: but it&#8217;s suitable for passing
to converter.parse.</p>
<p>This method will return either a list of file paths or, if there is a
single match, a single file path. If no matches are found an Exception is
raised.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getWork</span><span class="p">(</span><span class="s">&#39;luca/gloria&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
<span class="gp">... </span>    <span class="s">&#39;luca&#39;</span><span class="p">,</span> <span class="s">&#39;gloria.xml&#39;</span><span class="p">]))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trecentoFiles</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getWork</span><span class="p">(</span><span class="s">&#39;trecento&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">trecentoFiles</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">trecentoFiles</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">200</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getWorkList">
<code class="descclassname">music21.corpus.</code><code class="descname">getWorkList</code><span class="sig-paren">(</span><em>workName</em>, <em>movementNumber=None</em>, <em>fileExtensions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the corpus and return a list of filenames of works, always in a
list.</p>
<p>If no matches are found, an empty list is returned.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="o">.</span><span class="n">getWorkList</span><span class="p">(</span><span class="s">&#39;schumann_clara&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;.xml&#39;</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Make sure that &#8216;verdi&#8217; just gets the single Verdi piece and not the
Monteverdi pieces:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="o">.</span><span class="n">getWorkList</span><span class="p">(</span><span class="s">&#39;verdi&#39;</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.getWorkReferences">
<code class="descclassname">music21.corpus.</code><code class="descname">getWorkReferences</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.getWorkReferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a data dictionary for all works in the corpus 
Returns a list of corpus.corpora.DirectoryInformation object, one
for each directory. A &#8216;works&#8217; dictionary for each composer
provides references to dictionaries for all associated works.</p>
<p>This is used in the generation of corpus documentation</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">workRefs</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">getWorkReferences</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">workRefs</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">[&lt;music21.corpus.corpora.DirectoryInformation bach&gt;, </span>
<span class="go"> &lt;music21.corpus.corpora.DirectoryInformation beethoven&gt;]</span>
</pre></div>
</div>
<p>No longer finds the VirtualCorpus. TODO: Reinstate when
that corpus becomes useful again...</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.parse">
<code class="descclassname">music21.corpus.</code><code class="descname">parse</code><span class="sig-paren">(</span><em>workName</em>, <em>movementNumber=None</em>, <em>number=None</em>, <em>fileExtensions=None</em>, <em>forceSource=False</em>, <em>format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>The most important method call for corpus.</p>
<p>Similar to the <a class="reference internal" href="moduleConverter.html#music21.converter.parse" title="music21.converter.parse"><code class="xref py py-meth docutils literal"><span class="pre">parse()</span></code></a> method of converter (which
takes in a filepath on the local hard drive), this method searches the
corpus (including the virtual corpus) for a work fitting the workName
description and returns a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">music21.stream.Stream</span></code></a>.</p>
<p>If <cite>movementNumber</cite> is defined, and a movement is included in the corpus,
that movement will be returned.</p>
<p>If <cite>number</cite> is defined, and the work is a collection with multiple
components, that work number will be returned.  For instance, some of our
ABC documents contain dozens of folk songs within a single file.</p>
<p>Advanced: if <cite>forceSource</cite> is True, the original file will always be loaded
freshly and pickled (e.g., pre-parsed) files will be ignored.  This should
not be needed if the file has been changed, since the filetime of the file
and the filetime of the pickled version are compared.  But it might be
needed if the music21 parsing routine has changed.</p>
<p>Example, get a chorale by Bach.  Note that the source type does not need to
be specified, nor does the name Bach even (since it&#8217;s the only piece with
the title BWV 66.6)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bachChorale</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">bachChorale</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>After parsing, the file path within the corpus is stored as
<cite>.corpusFilePath</cite></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bachChorale</span><span class="o">.</span><span class="n">corpusFilepath</span>
<span class="go">&#39;bach/bwv66.6.mxl&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.parseWork">
<code class="descclassname">music21.corpus.</code><code class="descname">parseWork</code><span class="sig-paren">(</span><em>*arguments</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.parseWork" title="Permalink to this definition">¶</a></dt>
<dd><p>This function exists for backwards compatibility.</p>
<p>All calls should use <a class="reference internal" href="#music21.corpus.parse" title="music21.corpus.parse"><code class="xref py py-func docutils literal"><span class="pre">parse()</span></code></a> instead.</p>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.search">
<code class="descclassname">music21.corpus.</code><code class="descname">search</code><span class="sig-paren">(</span><em>query</em>, <em>field=None</em>, <em>corpusNames=('core'</em>, <em>'virtual'</em>, <em>'local')</em>, <em>fileExtensions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search all stored metadata and return a list of file paths; to return a
list of parsed Streams, use <cite>searchParse()</cite>.</p>
<p>The <cite>name</cite> parameter can be used to specify one of three corpora: core
(included with music21), virtual (defined in music21 but hosted online),
and local (hosted on the user&#8217;s system (not yet implemented)).</p>
<p>This method uses stored metadata and thus, on first usage, will incur a
performance penalty during metadata loading.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;china&#39;</span><span class="p">)</span>
<span class="go">&lt;music21.metadata.bundles.MetadataBundle {1235 entries}&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;bach&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s">&#39;composer&#39;</span><span class="p">)</span>
<span class="go">&lt;music21.metadata.bundles.MetadataBundle {21 entries}&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;coltrane&#39;</span><span class="p">,</span> <span class="n">corpusNames</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;virtual&#39;</span><span class="p">,))</span>
<span class="go">&lt;music21.metadata.bundles.MetadataBundle {1 entry}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.corpus.uncompressMXL">
<code class="descclassname">music21.corpus.</code><code class="descname">uncompressMXL</code><span class="sig-paren">(</span><em>filename</em>, <em>deleteOriginal=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.corpus.uncompressMXL" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a filename, and if the filename corresponds to a compressed musicXML
file with an .mxl extension, creates a corresponding uncompressed .xml file
in the same directory.</p>
<p>If deleteOriginal is set to True, the original compressed musicXML file is
deleted from the system.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCorpusChorales.html" title="music21.corpus.chorales"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleConverterSubConverters.html" title="music21.converter.subConverters"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Sep 28, 2015.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>