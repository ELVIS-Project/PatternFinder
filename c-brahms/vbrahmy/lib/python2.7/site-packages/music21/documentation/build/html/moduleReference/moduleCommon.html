<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.common &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.common.classTools" href="moduleCommonClassTools.html" />
    <link rel="prev" title="music21.clef" href="moduleClef.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCommonClassTools.html" title="music21.common.classTools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleClef.html" title="music21.clef"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleClef.html"
                        title="previous chapter">music21.clef</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleCommonClassTools.html"
                        title="next chapter">music21.common.classTools</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.common</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#iterator">Iterator</a></li>
<li><a class="reference internal" href="#singletoncounter">SingletonCounter</a></li>
<li><a class="reference internal" href="#slottedobject">SlottedObject</a></li>
<li><a class="reference internal" href="#testmock">TestMock</a></li>
<li><a class="reference internal" href="#timer">Timer</a></li>
<li><a class="reference internal" href="#defaultlist">defaultlist</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleCommon.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-common">
<span id="modulecommon"></span><h1>music21.common<a class="headerlink" href="#music21-common" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.common"></span><p>Common is a collection of utility functions, objects, constants and dictionaries used 
throughout music21.</p>
<p>functions in common/ can import from music21.defaults, music21.exceptions21, and music21.ext
and that is all (except in tests and doctests).</p>
<p>For historical reasons all the (non-private) functions etc. of the common/
folder are available by importing common.</p>
<p>split according to function &#8211; September 2015</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.common.basicallyEqual">
<code class="descclassname">music21.common.</code><code class="descname">basicallyEqual</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.basicallyEqual" title="Permalink to this definition">¶</a></dt>
<dd><p>returns true if a and b are equal except for whitespace differences</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s">&quot; hello there &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="s">&quot;hello there&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="s">&quot; bye there &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">basicallyEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">basicallyEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.camelCaseToHyphen">
<code class="descclassname">music21.common.</code><code class="descname">camelCaseToHyphen</code><span class="sig-paren">(</span><em>usrStr</em>, <em>replacement='-'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.camelCaseToHyphen" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a camel-cased string, or a mixture of numbers and characters, create a space separated string.</p>
<p>The replacement can be specified to be something besides a hyphen, but only
a single character and not (for internal reasons) an uppercase character.</p>
<p>code from <a class="reference external" href="http://stackoverflow.com/questions/1175208/elegant-python-function-to-convert-camelcase-to-camel-case">http://stackoverflow.com/questions/1175208/elegant-python-function-to-convert-camelcase-to-camel-case</a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">camelCaseToHyphen</span><span class="p">(</span><span class="s">&#39;movementName&#39;</span><span class="p">)</span>
<span class="go">&#39;movement-name&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">camelCaseToHyphen</span><span class="p">(</span><span class="s">&#39;movementNameName&#39;</span><span class="p">)</span>
<span class="go">&#39;movement-name-name&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">camelCaseToHyphen</span><span class="p">(</span><span class="s">&#39;fileName&#39;</span><span class="p">,</span> <span class="n">replacement</span><span class="o">=</span><span class="s">&#39;_&#39;</span><span class="p">)</span>
<span class="go">&#39;file_name&#39;</span>
</pre></div>
</div>
<p>Some things you cannot do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">camelCaseToHyphen</span><span class="p">(</span><span class="s">&#39;fileName&#39;</span><span class="p">,</span> <span class="n">replacement</span><span class="o">=</span><span class="s">&#39;NotFound&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">Exception</span>: <span class="n">Replacement must be a single character.</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">camelCaseToHyphen</span><span class="p">(</span><span class="s">&#39;fileName&#39;</span><span class="p">,</span> <span class="n">replacement</span><span class="o">=</span><span class="s">&#39;A&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">Exception</span>: <span class="n">Replacement cannot be an uppercase character.</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.cd">
<code class="descclassname">music21.common.</code><code class="descname">cd</code><span class="sig-paren">(</span><em>targetDir</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.cd" title="Permalink to this definition">¶</a></dt>
<dd><p>Useful for a temporary cd for use in a <cite>with</cite> statement:</p>
<blockquote>
<div><dl class="docutils">
<dt>with cd(&#8216;/Library/&#8217;):</dt>
<dd>os.system(make)</dd>
</dl>
</div></blockquote>
<p>will switch temporarily, and then switch back when leaving.</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.defaultDeepcopy">
<code class="descclassname">music21.common.</code><code class="descname">defaultDeepcopy</code><span class="sig-paren">(</span><em>obj</em>, <em>memo</em>, <em>callInit=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.defaultDeepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfortunately, it is not possible to do something like:</p>
<blockquote>
<div><dl class="docutils">
<dt>def __deepcopy__(self, memo):</dt>
<dd><dl class="first last docutils">
<dt>if self._noDeepcopy:</dt>
<dd>return self.__class__()</dd>
<dt>else:</dt>
<dd>copy.deepcopy(self, memo, ignore__deepcopy__=True)</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>so that&#8217;s what this is for:</p>
<blockquote>
<div><dl class="docutils">
<dt>def __deepcopy__(self, memo):</dt>
<dd><dl class="first last docutils">
<dt>if self._noDeepcopy:</dt>
<dd>return self.__class__()</dd>
<dt>else:</dt>
<dd>common.defaultDeepcopy(obj, memo)</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>looks through both __slots__ and __dict__ and does a deepcopy
of anything in each of them and returns the new object.</p>
<p>If callInit is False, then only __new__() is called.  This is
much faster if you&#8217;re just going to overload every instance variable.</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.dirPartitioned">
<code class="descclassname">music21.common.</code><code class="descname">dirPartitioned</code><span class="sig-paren">(</span><em>obj</em>, <em>skipLeading=('__'</em>, <em>)</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.dirPartitioned" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an object, return three lists of names: methods, attributes, and properties.</p>
<p>Note that if a name/attribute is dynamically created by a property it
cannot be found until that attribute is created.</p>
<p>TODO: this cannot properly partiton properties from methods</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.formatStr">
<code class="descclassname">music21.common.</code><code class="descname">formatStr</code><span class="sig-paren">(</span><em>msg</em>, <em>*arguments</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.formatStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Format one or more data elements into string suitable for printing
straight to stderr or other outputs</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">formatStr</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">test 1 2 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.getCorpusContentDirs">
<code class="descclassname">music21.common.</code><code class="descname">getCorpusContentDirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getCorpusContentDirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all dirs that are found in the corpus that contain content; that is, exclude dirst that have code or other resoures.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">getCorpusContentDirs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="c"># this test will be fragile, depending on composition of dirs</span>
<span class="go">[&#39;airdsAirs&#39;, &#39;bach&#39;, &#39;beethoven&#39;, &#39;ciconia&#39;, &#39;corelli&#39;, &#39;cpebach&#39;,</span>
<span class="go">&#39;demos&#39;, &#39;essenFolksong&#39;, &#39;handel&#39;, &#39;haydn&#39;, &#39;josquin&#39;, &#39;leadSheet&#39;,</span>
<span class="go">&#39;luca&#39;, &#39;miscFolk&#39;, &#39;monteverdi&#39;, &#39;mozart&#39;, &#39;oneills1850&#39;, &#39;palestrina&#39;,</span>
<span class="go">&#39;ryansMammoth&#39;, &#39;schoenberg&#39;, &#39;schumann&#39;, &#39;schumann_clara&#39;,</span>
<span class="go">&#39;theoryExercises&#39;, &#39;trecento&#39;, &#39;verdi&#39;, &#39;weber&#39;]</span>
</pre></div>
</div>
<p>Make sure that all corpus data has a directoryInformation tag in
CoreCorpus.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">corpora</span><span class="o">.</span><span class="n">CoreCorpus</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">failed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">di</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">directoryName</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">cc</span><span class="o">.</span><span class="n">directoryInformation</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">di</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">failed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">failed</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.getCorpusFilePath">
<code class="descclassname">music21.common.</code><code class="descname">getCorpusFilePath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getCorpusFilePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the stored music21 directory that contains the corpus metadata cache.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">getCorpusFilePath</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;music21/corpus&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">fp</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">r&#39;music21\corpus&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.getMd5">
<code class="descclassname">music21.common.</code><code class="descname">getMd5</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getMd5" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an md5 hash from a string.  If no value is given then
the current time plus a random number is encoded.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getMd5</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="go">&#39;098f6bcd4621d373cade4e832627b4f6&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.getMetadataCacheFilePath">
<code class="descclassname">music21.common.</code><code class="descname">getMetadataCacheFilePath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getMetadataCacheFilePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the stored music21 directory that contains the corpus metadata cache.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">getMetadataCacheFilePath</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;corpus/_metadataCache&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">fp</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">r&#39;corpus\_metadataCache&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.getMissingImportStr">
<code class="descclassname">music21.common.</code><code class="descname">getMissingImportStr</code><span class="sig-paren">(</span><em>modNameList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getMissingImportStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of missing module names, returns a nicely-formatted message to the user
that gives instructions on how to expand music21 with optional packages.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getMissingImportStr</span><span class="p">([</span><span class="s">&#39;matplotlib&#39;</span><span class="p">])</span>
<span class="go">&#39;Certain music21 functions might need the optional package matplotlib; if you run into errors, install it by following the instructions at http://mit.edu/music21/doc/installing/installAdditional.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getMissingImportStr</span><span class="p">([</span><span class="s">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s">&#39;numpy&#39;</span><span class="p">])</span>
<span class="go">&#39;Certain music21 functions might need these optional packages: matplotlib, numpy; if you run into errors, install it by following the instructions at http://mit.edu/music21/doc/installing/installAdditional.html&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.getNumFromStr">
<code class="descclassname">music21.common.</code><code class="descname">getNumFromStr</code><span class="sig-paren">(</span><em>usrStr</em>, <em>numbers='0123456789'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getNumFromStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string, extract any numbers. Return two strings, the numbers (as strings) and the remaining characters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getNumFromStr</span><span class="p">(</span><span class="s">&#39;23a&#39;</span><span class="p">)</span>
<span class="go">(&#39;23&#39;, &#39;a&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getNumFromStr</span><span class="p">(</span><span class="s">&#39;23a954sdfwer&#39;</span><span class="p">)</span>
<span class="go">(&#39;23954&#39;, &#39;asdfwer&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">getNumFromStr</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;&#39;)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.getPackageData">
<code class="descclassname">music21.common.</code><code class="descname">getPackageData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getPackageData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of package data in the format specified by setup.py. This creates a very inclusive list of all data types.</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.getPackageDir">
<code class="descclassname">music21.common.</code><code class="descname">getPackageDir</code><span class="sig-paren">(</span><em>fpMusic21=None</em>, <em>relative=True</em>, <em>remapSep='.'</em>, <em>packageOnly=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getPackageDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually get all directories in the music21 package, including the top level directory. This is used in setup.py.</p>
<p>If <cite>relative</cite> is True, relative paths will be returned.</p>
<p>If <cite>remapSep</cite> is set to anything other than None, the path separator will be replaced.</p>
<p>If <cite>packageOnly</cite> is true, only directories with __init__.py files are colllected.</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.getPlatform">
<code class="descclassname">music21.common.</code><code class="descname">getPlatform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getPlatform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the platform, where platforms are divided
between &#8216;win&#8217; (for Windows), &#8216;darwin&#8217; (for MacOS X), and &#8216;nix&#8217; for (GNU/Linux and other variants).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.getSourceFilePath">
<code class="descclassname">music21.common.</code><code class="descname">getSourceFilePath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.getSourceFilePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the music21 directory that contains source files. This is not the same as the
outermost package development directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.hyphenToCamelCase">
<code class="descclassname">music21.common.</code><code class="descname">hyphenToCamelCase</code><span class="sig-paren">(</span><em>usrStr</em>, <em>replacement='-'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.hyphenToCamelCase" title="Permalink to this definition">¶</a></dt>
<dd><p>given a hyphen-connected-string, change it to
a camelCaseConnectedString.</p>
<p>The replacement can be specified to be something besides a hyphen.</p>
<p>code from <a class="reference external" href="http://stackoverflow.com/questions/4303492/how-can-i-simplify-this-conversion-from-underscore-to-camelcase-in-python">http://stackoverflow.com/questions/4303492/how-can-i-simplify-this-conversion-from-underscore-to-camelcase-in-python</a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">hyphenToCamelCase</span><span class="p">(</span><span class="s">&#39;movement-name&#39;</span><span class="p">)</span>
<span class="go">&#39;movementName&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">hyphenToCamelCase</span><span class="p">(</span><span class="s">&#39;movement_name&#39;</span><span class="p">,</span> <span class="n">replacement</span><span class="o">=</span><span class="s">&#39;_&#39;</span><span class="p">)</span>
<span class="go">&#39;movementName&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.normalizeFilename">
<code class="descclassname">music21.common.</code><code class="descname">normalizeFilename</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.normalizeFilename" title="Permalink to this definition">¶</a></dt>
<dd><p>take a name that might contain unicode characters, punctuation,
or spaces and
normalize it so that it is POSIX compliant (except for the limit
on length).</p>
<p>Takes in a string or unicode string and returns a string (unicode in Py3)
without any accented characters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">normalizeFilename</span><span class="p">(</span><span class="s">u&#39;03-Niccolò all’lessandra.not really.xml&#39;</span><span class="p">)</span>
<span class="go">&#39;03-Niccolo_alllessandra_not_really.xml&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.pickleCopy">
<code class="descclassname">music21.common.</code><code class="descname">pickleCopy</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.pickleCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>use pickle to serialize/deserialize a copy of an object &#8211; much faster than deepcopy,
but only works for things that are completely pickleable.</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.pitchList">
<code class="descclassname">music21.common.</code><code class="descname">pitchList</code><span class="sig-paren">(</span><em>pitchL</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.pitchList" title="Permalink to this definition">¶</a></dt>
<dd><p>utility method that replicates the previous behavior of 
lists of pitches</p>
</dd></dl>

<dl class="function">
<dt id="music21.common.readFileEncodingSafe">
<code class="descclassname">music21.common.</code><code class="descname">readFileEncodingSafe</code><span class="sig-paren">(</span><em>filePath</em>, <em>firstGuess='utf-8'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.readFileEncodingSafe" title="Permalink to this definition">¶</a></dt>
<dd><p>Slow, but will read a file of unknown encoding as safely as possible using
the LGPL chardet package in music21.ext.</p>
<p>Let&#8217;s try to load this file as ascii &#8211; it has a copyright symbol at the top
so it won&#8217;t load in Python3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">getSourceFilePath</span><span class="p">(),</span> <span class="s">&#39;common&#39;</span><span class="p">,</span> <span class="s">&#39;__init__.py&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">UnicodeDecodeError</span>: <span class="n">&#39;ascii&#39; codec can&#39;t decode byte 0xc2 in position ...: ordinal not in range(128)</span>
</pre></div>
</div>
<p>That won&#8217;t do! now I know that it is in utf-8, but maybe you don&#8217;t. Or it could
be an old humdrum or Noteworthy file with unknown encoding.  This will load it safely.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">readFileEncodingSafe</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span>
<span class="go">&#39;#-*- coding: utf-8 -*-\n#------&#39;</span>
</pre></div>
</div>
<p>Well, that&#8217;s nothing, since the first guess here is utf-8 and it&#8217;s right. So let&#8217;s
give a worse first guess:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">readFileEncodingSafe</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">firstGuess</span><span class="o">=</span><span class="s">&#39;SHIFT_JIS&#39;</span><span class="p">)</span> <span class="c"># old Japanese standard</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span>
<span class="go">&#39;#-*- coding: utf-8 -*-\n#------&#39;</span>
</pre></div>
</div>
<p>It worked!</p>
<p>Note that this is slow enough if it gets it wrong that the firstGuess should be set
to something reasonable like &#8216;ascii&#8217; or &#8216;utf-8&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.relativepath">
<code class="descclassname">music21.common.</code><code class="descname">relativepath</code><span class="sig-paren">(</span><em>path</em>, <em>start='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.relativepath" title="Permalink to this definition">¶</a></dt>
<dd><p>A cross-platform wrapper for <cite>os.path.relpath()</cite>, which returns <cite>path</cite> if
under Windows, otherwise returns the relative path of <cite>path</cite>.</p>
<p>This avoids problems under Windows when the current working directory is
on a different drive letter from <cite>path</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.runningUnderIPython">
<code class="descclassname">music21.common.</code><code class="descname">runningUnderIPython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.runningUnderIPython" title="Permalink to this definition">¶</a></dt>
<dd><p>return bool if we are running under iPython Notebook (not iPython)</p>
<p>(no tests, since will be different)</p>
<p>This post:
<a class="reference external" href="http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook">http://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook</a>
says not to do this, but really, I can&#8217;t think of another way to have different output as default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.sortFilesRecent">
<code class="descclassname">music21.common.</code><code class="descname">sortFilesRecent</code><span class="sig-paren">(</span><em>fileList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.sortFilesRecent" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two files, sort by most recent. Return only the file
paths.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">curdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">sortFilesRecent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.sortModules">
<code class="descclassname">music21.common.</code><code class="descname">sortModules</code><span class="sig-paren">(</span><em>moduleList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.sortModules" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort a lost of imported module names such that most recently modified is
first.  In ties, last accesstime is used then module name</p>
<p>Will return a different order each time depending on the last mod time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.spaceCamelCase">
<code class="descclassname">music21.common.</code><code class="descname">spaceCamelCase</code><span class="sig-paren">(</span><em>usrStr</em>, <em>replaceUnderscore=True</em>, <em>fixMeList=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.spaceCamelCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a camel-cased string, or a mixture of numbers and characters, 
create a space separated string.</p>
<p>If replaceUnderscore is True (default) then underscores also become spaces (but without the _)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;thisIsATest&#39;</span><span class="p">)</span>
<span class="go">&#39;this Is A Test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;ThisIsATest&#39;</span><span class="p">)</span>
<span class="go">&#39;This Is A Test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;movement3&#39;</span><span class="p">)</span>
<span class="go">&#39;movement 3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;opus41no1&#39;</span><span class="p">)</span>
<span class="go">&#39;opus 41 no 1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;opus23402no219235&#39;</span><span class="p">)</span>
<span class="go">&#39;opus 23402 no 219235&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;opus23402no219235&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="go">&#39;Opus 23402 No 219235&#39;</span>
</pre></div>
</div>
<p>There is a small list called fixMeList that can fix mistakes.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;PMFC22&#39;</span><span class="p">)</span>
<span class="go">&#39;PMFC 22&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;hello_myke&#39;</span><span class="p">)</span>
<span class="go">&#39;hello myke&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">spaceCamelCase</span><span class="p">(</span><span class="s">&#39;hello_myke&#39;</span><span class="p">,</span> <span class="n">replaceUnderscore</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="go">&#39;hello_myke&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music21.common.stripAccents">
<code class="descclassname">music21.common.</code><code class="descname">stripAccents</code><span class="sig-paren">(</span><em>inputString</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.stripAccents" title="Permalink to this definition">¶</a></dt>
<dd><p>removes accents from unicode strings.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">u&#39;trés vite&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">u&#39;é&#39;</span> <span class="ow">in</span> <span class="n">s</span>
<span class="go">True</span>
</pre></div>
</div>
<p>This works on Python2, but the doctest does not.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">ext</span><span class="o">.</span><span class="n">six</span><span class="o">.</span><span class="n">PY3</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">common</span><span class="o">.</span><span class="n">stripAccents</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span> <span class="s">&#39;tres vite&#39;</span>
<span class="go">&#39;tres vite&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.common.toUnicode">
<code class="descclassname">music21.common.</code><code class="descname">toUnicode</code><span class="sig-paren">(</span><em>usrStr</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.toUnicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this tring to a uncode string; if already a unicode string, do nothing.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toUnicode</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="go">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">toUnicode</span><span class="p">(</span><span class="s">u&#39;test&#39;</span><span class="p">)</span>
<span class="go">&#39;test&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="iterator">
<h2>Iterator<a class="headerlink" href="#iterator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.Iterator">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">Iterator</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.Iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple Iterator object used to handle iteration of Streams and other
list-like objects.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">Iterator</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.common.Iterator" title="music21.common.Iterator"><code class="xref py py-class docutils literal"><span class="pre">Iterator</span></code></a> methods</p>
<dl class="method">
<dt id="music21.common.Iterator.next">
<code class="descclassname">Iterator.</code><code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.Iterator.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="singletoncounter">
<h2>SingletonCounter<a class="headerlink" href="#singletoncounter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.SingletonCounter">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">SingletonCounter</code><a class="headerlink" href="#music21.common.SingletonCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple counter that can produce unique numbers regardless of how many instances exist.</p>
<p>Instantiate and then call it.</p>
</dd></dl>

</div>
<div class="section" id="slottedobject">
<h2>SlottedObject<a class="headerlink" href="#slottedobject" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.SlottedObject">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">SlottedObject</code><a class="headerlink" href="#music21.common.SlottedObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides template for classes implementing slots allowing it to be pickled
properly.</p>
<p>Only use SlottedObjects for objects that we expect to make so many of
that memory storage and speed become an issue. Thus, unless you are Xenakis, 
Glissdata is probably not the best example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Glissdata</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">SlottedObject</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">,</span> <span class="s">&#39;frequency&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Glissdata</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="mf">0.125</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="mf">440.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">frequency</span>
<span class="go">(0.125, 440.0)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="testmock">
<h2>TestMock<a class="headerlink" href="#testmock" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.TestMock">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">TestMock</code><a class="headerlink" href="#music21.common.TestMock" title="Permalink to this definition">¶</a></dt>
<dd><p>A test object with attributes, methods, and properties</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.common.TestMock" title="music21.common.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> read/write properties</p>
<dl class="attribute">
<dt id="music21.common.TestMock.property1">
<code class="descclassname">TestMock.</code><code class="descname">property1</code><a class="headerlink" href="#music21.common.TestMock.property1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="music21.common.TestMock.property2">
<code class="descclassname">TestMock.</code><code class="descname">property2</code><a class="headerlink" href="#music21.common.TestMock.property2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.common.TestMock" title="music21.common.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> methods</p>
<dl class="method">
<dt id="music21.common.TestMock.method1">
<code class="descclassname">TestMock.</code><code class="descname">method1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.TestMock.method1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.common.TestMock.method2">
<code class="descclassname">TestMock.</code><code class="descname">method2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.TestMock.method2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="timer">
<h2>Timer<a class="headerlink" href="#timer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.Timer">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">Timer</code><a class="headerlink" href="#music21.common.Timer" title="Permalink to this definition">¶</a></dt>
<dd><p>An object for timing. Call it to get the current time since starting.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">Timer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nownow</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nownow</span> <span class="o">&gt;</span> <span class="n">now</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Call <cite>stop</cite> to stop it. Calling <cite>start</cite> again will reset the number</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stopTime</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stopNow</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stopTime</span> <span class="o">==</span> <span class="n">stopNow</span>
<span class="go">True</span>
</pre></div>
</div>
<p>All this had better take less than one second!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stopTime</span> <span class="o">&lt;</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.common.Timer" title="music21.common.Timer"><code class="xref py py-class docutils literal"><span class="pre">Timer</span></code></a> methods</p>
<dl class="method">
<dt id="music21.common.Timer.clear">
<code class="descclassname">Timer.</code><code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.Timer.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.common.Timer.start">
<code class="descclassname">Timer.</code><code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.Timer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicit start method; will clear previous values. Start always happens on initialization.</p>
</dd></dl>

<dl class="method">
<dt id="music21.common.Timer.stop">
<code class="descclassname">Timer.</code><code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.Timer.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="defaultlist">
<h2>defaultlist<a class="headerlink" href="#defaultlist" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.common.defaultlist">
<em class="property">class </em><code class="descclassname">music21.common.</code><code class="descname">defaultlist</code><span class="sig-paren">(</span><em>fx</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.common.defaultlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Call a function for every time something is missing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">defaultlist</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">True    </span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleCommonClassTools.html" title="music21.common.classTools"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleClef.html" title="music21.clef"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2015, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Sep 28, 2015.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>