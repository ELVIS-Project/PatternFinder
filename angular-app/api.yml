openapi: 3.0.1
info: 
  description: "Content-Based Music Retrieval"
  version: "1.0.0"
  title: "PatternFinder"
  contact:
    email: "david.garfinkle@mail.mcgill.ca"
servers:
  - "url": "https://132.206.14.238:8000" 
    "description": "Development server"
  - "url": "https://patternfinder.elvisproject.ca"
    "description": "Production server"
paths:
  /search:
    get:
      operationId: "search"
      parameters:
        - name: "inputType"
          in: "query"
          description: "Indicates the music encoding language of the query string"
          schema:
            type: "string"
        - name: "musicQuery"
          in: "query"
          description: "A music query string"
          schema:
            type: "string"
      responses:
        200:
          description: "The server successfully completed a search for the music query and is returning the result(s)" 
  /mass/{mass}:
    get:
      operationId: "getMass"
      responses:
        200:
          description: "The server successfully completed a search for this mass and is returning the music-encoded document"
  /mass/{mass}/excerpt/{noteIndices}:
    get:
      operationId: "getMassExcerpt"
      responses:
        200:
          description: "The server successfully found this mass and the requested note indices are within a valid range. The music-encoded document describing the measures of music including these note indices is returned."
components:
  schemas:
    occurrence:
      type: "object"
      properties:
        mass:
          type: "string"
        targetNotes:
          type: "array"
          items: 
            type: "integer"
        diatonicOcc:
          type: "boolean"
        transposition:
          type: "integer"

